System.register("chunks:///_virtual/EndGameController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UIController.ts"],(function(e){"use strict";var r,t,n,o,i,c,l,a,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,l=e.Label,a=e.Component},function(e){s=e.UIController}],execute:function(){var u,p,f,d,y;i._RF.push({},"07f76OYVdZAAJTfTGgH5sGp","EndGameController",void 0);var h=c.ccclass,m=c.property;e("EndGameController",(u=h("EndGameController"),p=m(l),u((y=r((d=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return r=e.call.apply(e,[this].concat(i))||this,n(o(r),"score",y,o(r)),r}t(r,e);var i=r.prototype;return i.start=function(){},i.updateScore=function(e){this.score.string="Score: "+e},i.clickBtnReset=function(){s.instance.resetUIGame()},r}(a)).prototype,"score",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/ScenesManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./Linker.ts"],(function(e){"use strict";var n,t,a,r,i,o,s,l,c,u,b,f,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Prefab,l=e.Node,c=e.instantiate,u=e.Camera,b=e.Component},function(e){f=e.Constants},function(e){d=e.Linker}],execute:function(){var h,p,m,y,g,v,C,S,L;i._RF.push({},"0da32JvF7RGpa/h09uSpVZr","ScenesManager",void 0);var P=o.ccclass,_=o.property;e("default",(h=P("ScenesManager"),p=_(s),m=_(s),y=_(l),h((C=n((v=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,a(r(n),"homePrefabs",C,r(n)),a(r(n),"lobbyPrefabs",S,r(n)),a(r(n),"mainCamera",L,r(n)),n}t(n,e);var i=n.prototype;return i.onLoad=function(){this.loadHomeScreen(),d.getInstance().SceneManager=this},i.onEnable=function(){this.node.on(f.EVENT_CONFIG.SHOW_MAIN_LOBBY,this.loadLobbyScreen.bind(this))},i.loadHomeScreen=function(){var e=this.node.getChildByName("Home");if(e)e.active=!0;else{var n=c(this.homePrefabs);n&&this.node.addChild(n)}},i.loadLobbyScreen=function(){var e=this.node.getChildByName("MainLobby");if(e)e.active=!0;else{var n=c(this.lobbyPrefabs);n&&this.node.addChild(n)}},i.getCamera=function(){return this.mainCamera.getComponent(u)},n}(b)).prototype,"homePrefabs",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(v.prototype,"lobbyPrefabs",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(v.prototype,"mainCamera",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./GameController.ts","./UIController.ts"],(function(t){"use strict";var o,e,i,n,s,r,h,l,a,c,u,p,d,C,f,g;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.defineProperty},function(t){r=t.cclegacy,h=t._decorator,l=t.Node,a=t.Collider,c=t.tween,u=t.v3,p=t.Vec3,d=t.Component},function(t){C=t.UserData},function(t){f=t.GameController},function(t){g=t.UIController}],execute:function(){var y,P,v,z,T;r._RF.push({},"1ecc1IDYq9E3LW9DH6lb1gm","MonsterController",void 0);var m=h.ccclass,M=h.property;t("MonsterController",(y=m("MonsterController"),P=M(l),y((T=o((z=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),h=0;h<e;h++)r[h]=arguments[h];return o=t.call.apply(t,[this].concat(r))||this,i(n(o),"sphereCollider",T,n(o)),s(n(o),"direction",1),s(n(o),"x",0),s(n(o),"y",0),s(n(o),"z",0),s(n(o),"heath",10),s(n(o),"isRotation",!1),s(n(o),"speed",20),s(n(o),"rotationY",0),o}e(o,t);var r=o.prototype;return r.onLoad=function(){},r.start=function(){var t=this.sphereCollider.getComponent(a);t.on("onCollisionEnter",this.onCollision,this),t.on("onTriggerEnter",this.onTrigger,this)},r.onCollision=function(){console.log("onCollision"),this.heath-=5,c(this.sphereCollider).to(.02,{position:u(0,-2,0)}).start(),f.instance.setPositionHitFx(this.node.getWorldPosition()),this.heath<=0&&(this.heath=10,this.pushMonsterToCache(),C.getInstance().addScore(),g.instance.updateScoreTxt())},r.onTrigger=function(){console.log("onTrigger")},r.pushMonsterToCache=function(){this.node.active=!1,this.x=0,this.y=0,this.z=0,f.instance.addObsCache(this.node)},r.setPositionChicken=function(){},r.setRotation=function(t,o){this.isRotation=t,t?this.sphereCollider.setPosition(new p(o.x,o.y,o.z)):(this.node.setRotationFromEuler(u(0,0,0)),this.sphereCollider.setPosition(new p(0,0,0)))},r.setPos=function(t,o,e){this.x=t,this.y=o,this.z=e,this.node.setPosition(t,o,e)},r.setSpeed=function(t){this.speed=t},r.update=function(t){this.z+=t*this.speed,this.node.setPosition(u(this.x,this.y,this.z)),this.z>1600&&(console.error("pushMonsterToCache"),this.pushMonsterToCache()),this.isRotation&&(this.rotationY+=t*this.speed,this.rotationY=this.rotationY%360,this.node.setRotationFromEuler(u(0,this.rotationY,0)))},o}(d)).prototype,"sphereCollider",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=z))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/UserData.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.defineProperty},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"36e97iGgqdOWYq3FXFcfE2E","UserData",void 0);var r=t("UserData",function(){function t(){e(this,"walletId",""),e(this,"score",0)}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var n=t.prototype;return n.setWalletId=function(t){this.walletId=t},n.getWalletId=function(){return this.walletId},n.addScore=function(){this.score+=5,console.error("My Score: "+this.score)},n.getScore=function(){return this.score},t}());e(r,"instance",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/Gun_Muzzle.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,l,o,u,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,o=t._decorator,u=t.ParticleSystem,a=t.Component}],execute:function(){var c,p,s,h,f,g,y;l._RF.push({},"39e45+St09HzJpUhmko7tuI","Gun_Muzzle",void 0);var z=o.ccclass,_=o.property;t("default",(c=z("GunMuzzle"),p=_(u),s=_(u),c((g=e((f=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return e=t.call.apply(t,[this].concat(l))||this,r(n(e),"gun_particle",g,n(e)),r(n(e),"light",y,n(e)),e}i(e,t);var l=e.prototype;return l.start=function(){},l.playParticle=function(){this.stopParticle(),this.gun_particle.play(),this.light.play()},l.stopParticle=function(){this.gun_particle.stop(),this.light.stop()},e}(a)).prototype,"gun_particle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(f.prototype,"light",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/HitFx.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,r,n,o,c,a,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.ParticleSystem,l=t.Component}],execute:function(){var s,u,p,f,y;o._RF.push({},"48877bLQYdIHZ8Dx9tiIyA3","HitFx",void 0);var h=c.ccclass,x=c.property;t("HixFx",(s=h("HixFx"),u=x(a),s((y=i((f=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return i=t.call.apply(t,[this].concat(o))||this,r(n(i),"hitfx",y,n(i)),i}e(i,t);var o=i.prototype;return o.start=function(){},o.playParticle=function(){this.hitfx.play()},i}(l)).prototype,"hitfx",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/HomeController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./web3.min.js","./web3.min.mjs_cjs=&original=.js"],(function(e){"use strict";var n,t,o,r,i,c,s;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.director,i=e.Component},function(e){c=e.UserData},function(e){s=e.default},null],execute:function(){var l;t._RF.push({},"6ebf9Mq2EpEA48QwNsi86iD","HomeController",void 0);var u=o.ccclass;o.property,e("HomeController",u("HomeController")(l=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.start=function(){},o.btnLoginOnClick=function(){var e=new s,n=null;window.ethereum&&(n=window.ethereum,e.setProvider(n),window.ethereum.enable().then((function(e){console.error("WALLET_ID: "+JSON.stringify(e[0])),c.getInstance().setWalletId(e[0]),r.loadScene("GamePlay3D")})).catch((function(e){e(e)})))},t}(i))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/UIController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./UserData.ts","./GameController.ts","./EndGameController.ts"],(function(t){"use strict";var e,n,i,l,r,a,o,u,s,c,m,h,p,B,b,f;return{setters:[function(t){e=t.defineProperty,n=t.applyDecoratedDescriptor,i=t.inheritsLoose,l=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,u=t.Label,s=t.Node,c=t.tween,m=t.Component},function(t){h=t.Constants,p=t.GameState},function(t){B=t.UserData},function(t){b=t.GameController},function(t){f=t.EndGameController}],execute:function(){var d,g,G,x,v,y,C,I,S,w,z,T,U,A,D,L,_;a._RF.push({},"76117ZVzaJNbocf4GQYX8xK","UIController",void 0);var E=o.ccclass,P=o.property;t("UIController",(d=E("UIController"),g=P(u),G=P(u),x=P(u),v=P(s),y=P(s),C=P(u),d((_=L=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,l(r(n),"score",w,r(n)),l(r(n),"walletId",z,r(n)),l(r(n),"timer",T,r(n)),l(r(n),"btnStart",U,r(n)),l(r(n),"endGameContainer",A,r(n)),l(r(n),"txtBullet",D,r(n)),e(r(n),"myInterval",null),e(r(n),"timeGame",h.timeGame),e(r(n),"totalBullet",h.totalBullet),e(r(n),"boxBullet",h.boxBullet),e(r(n),"remainBullet",h.remainBullet),n}i(n,t);var a=n.prototype;return a.onLoad=function(){n.instance=this,this.resetUIGame()},a.start=function(){},a.resetUIGame=function(){this.timeGame=h.timeGame,this.totalBullet=h.totalBullet,this.boxBullet=h.boxBullet,this.remainBullet=h.remainBullet,this.btnStart.active=!0,this.remainBullet=this.totalBullet-this.boxBullet,this.txtBullet.string=this.boxBullet+"/"+this.remainBullet,this.endGameContainer.active=!1,this.updateScoreTxt(0),this.updateTimer(this.timeGame)},a.startTimer=function(t){var e=t,n=this;this.myInterval=setInterval((function(){(n.updateTimer(e),--e<0)&&(b.instance.state=p.GAMEOVER,clearInterval(n.myInterval),b.instance.resetGame(),n.endGameContainer.active=!0,n.endGameContainer.getComponent(f).updateScore(B.getInstance().getScore()),console.log("end game"))}),1e3)},a.updateTimer=function(t){var e=parseInt((t/60).toString(),10),n=parseInt((t%60).toString(),10);e=e<10?"0"+e:e,n=n<10?"0"+n:n,this.timer.string=e+" : "+n},a.updateBullet=function(){var t=this;this.boxBullet--,0===this.boxBullet&&c(this.node).call((function(){b.instance.playChangeAmmo(),b.instance.isChangeAmmo=!0})).delay(1.84).call((function(){b.instance.isChangeAmmo=!1,t.boxBullet=t.remainBullet>=30?30:t.remainBullet,t.remainBullet=t.remainBullet-t.boxBullet,t.txtBullet.string=t.boxBullet+"/"+t.remainBullet})).start(),this.txtBullet.string=this.boxBullet+"/"+this.remainBullet,0===this.remainBullet&&0===this.boxBullet&&console.log("end game")},a.clickBtnStart=function(){this.startTimer(this.timeGame),this.btnStart.active=!1,b.instance.state=p.PLAYING,b.instance.startGame()},a.updateScoreTxt=function(t){void 0===t&&(t=B.getInstance().getScore()),this.score.string="Score: "+t},a.update=function(t){},n}(m),e(L,"instance",null),w=n((S=_).prototype,"score",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(S.prototype,"walletId",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(S.prototype,"timer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(S.prototype,"btnStart",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(S.prototype,"endGameContainer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(S.prototype,"txtBullet",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=S))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/Linker.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t;return{setters:[function(n){e=n.defineProperty},function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"7999c5TDMBFmYmmZdRZiuzL","Linker",void 0);var i=n("Linker",function(){function n(){e(this,"SceneManager",null),e(this,"itemSkinSelected",null),e(this,"Loading",null)}return n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n}());e(i,"instance",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/SettingController.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Component}],execute:function(){var i;n._RF.push({},"85169CwinZJDIVqXibRuFuk","SettingController",void 0);var c=o.ccclass;o.property,t("default",c("SettingController")(i=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.btnClosePoppupConClick=function(){this.node.active=!1},n}(r))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/GunSkinController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./Linker.ts"],(function(e){"use strict";var t,n,i,r,a,l,o,s,u,c,S,p,f,g,d,k,b,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.JsonAsset,s=e.Prefab,u=e.Node,c=e.Label,S=e.Sprite,p=e.SpriteAtlas,f=e.ProgressBar,g=e.instantiate,d=e.director,k=e.Component},function(e){b=e.Constants},function(e){m=e.Linker}],execute:function(){var h,v,y,C,w,D,z,A,I,P,_,E,G,L,N,B,F,V,T;a._RF.push({},"8de0dXLQepC5Je86foxBrbK","GunSkinController",void 0);var j=l.ccclass,x=l.property;e("GunSkinController",(h=j("GunSkinController"),v=x(o),y=x(s),C=x(u),w=x(c),D=x(S),z=x(p),A=x(u),I=x(f),h((E=t((_=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(r(t),"skinData",E,r(t)),i(r(t),"gunSkinItem",G,r(t)),i(r(t),"listSkinView",L,r(t)),i(r(t),"gunSelectedName",N,r(t)),i(r(t),"gunSelectedAvatar",B,r(t)),i(r(t),"gunSkinAtlas",F,r(t)),i(r(t),"startProgress",V,r(t)),i(r(t),"progressBar",T,r(t)),t}n(t,e);var a=t.prototype;return a.start=function(){var e=this.skinData.json.listSkin;m.getInstance().itemSkinSelected=e[0],this.loadSkinSelected(),this.node.on(b.EVENT_CONFIG.SELECTED_ITEM_SKIN,this.loadSkinSelected.bind(this))},a.renderDataSkin=function(e){var t=this;this.listSkinView.removeAllChildren(),e.forEach((function(e){var n=g(t.gunSkinItem);if(n){t.listSkinView.addChild(n);var i=n.getComponent("ItemSkinController");i&&i.renderDataSkin(e)}}))},a.loadSkinSelected=function(){var e=m.getInstance().itemSkinSelected,t=this.gunSkinAtlas.getSpriteFrame(e.sprite);this.gunSelectedName.string=e.name,t&&(this.gunSelectedAvatar.spriteFrame=t);var n=this.skinData.json.listSkin;this.renderDataSkin(n)},a.btnStartOnClick=function(){var e=this,t=0;this.startProgress.active=!0,d.preloadScene("GamePlay3D",(function(n,i,r){t=n/i,console.error(100*t+"%"),e.progressBar.progress=t}),(function(e,t){d.loadScene("GamePlay3D")}))},t}(k)).prototype,"skinData",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(_.prototype,"gunSkinItem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(_.prototype,"listSkinView",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(_.prototype,"gunSelectedName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(_.prototype,"gunSelectedAvatar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(_.prototype,"gunSkinAtlas",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(_.prototype,"startProgress",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(_.prototype,"progressBar",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=_))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/GunController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Linker.ts"],(function(t){"use strict";var n,e,i,o,r,a,s,c,u,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Animation,c=t.AudioSource,u=t.Component},function(t){l=t.Linker}],execute:function(){var h,p,f,d,g,y,v;r._RF.push({},"98196dwpCtMKpzqZZP4jSKi","GunController",void 0);var m=a.ccclass,S=a.property;t("default",(h=m("GunController"),p=S(s),f=S(c),h((y=n((g=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(o(n),"anim",y,o(n)),i(o(n),"auShoot",v,o(n)),n}e(n,t);var r=n.prototype;return r.onEnable=function(){this.startListenMouse()},r.startListenMouse=function(){cc.find("Canvas").on("touchstart",(function(t){var n;n=l.getInstance().SceneManager.getCamera().getScreenToWorldPoint(t.getLocation(),n),this.posCache=n;var e=this.node.parent.convertToWorldSpaceAR(this.node.position);this.direction=n.sub(e).normalizeSelf(),this.node.angle=-this.dir2Angle(this.direction),this.shooting()}),this)},r.dir2Angle=function(t){return t.y>0?180*Math.asin(t.x)/Math.PI:180-180*Math.asin(t.x)/Math.PI},r.shooting=function(){this.anim.play(),this.auShoot.play()},n}(u)).prototype,"anim",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(g.prototype,"auShoot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./Gun_Muzzle.ts","./HitFx.ts","./AudioController.ts","./BulletController.ts","./MonsterController.ts","./UIController.ts"],(function(t){"use strict";var e,i,n,o,r,l,s,a,u,h,c,f,p,b,m,d,v,M,C,y,g,z,F,T,x;return{setters:[function(t){e=t.defineProperty,i=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){l=t.cclegacy,s=t._decorator,a=t.Node,u=t.Prefab,h=t.SkeletalAnimation,c=t.v3,f=t.sys,p=t.input,b=t.Input,m=t.tween,d=t.instantiate,v=t.randomRangeInt,M=t.Component},function(t){C=t.GameState},function(t){y=t.default},function(t){g=t.HixFx},function(t){z=t.AudioController},function(t){F=t.BulletController},function(t){T=t.MonsterController},function(t){x=t.UIController}],execute:function(){var w,A,O,G,P,H,S,E,_,B,k,I,R,Y,Z,U,D,N,L,V,j,W,X,q,J,K,Q,$,tt,et,it;l._RF.push({},"9ce0436Vl9CP5OTWfNmyvax","GameController",void 0);var nt=s.ccclass,ot=s.property;t("GameController",(w=nt("CameraController"),A=ot(a),O=ot(u),G=ot(a),P=ot(a),H=ot(a),S=ot(u),E=ot(a),_=ot([a]),B=ot(a),k=ot(a),I=ot(a),R=ot(u),Y=ot(h),w((it=et=function(t){function i(){for(var i,n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return i=t.call.apply(t,[this].concat(l))||this,o(r(i),"bullets",D,r(i)),o(r(i),"bullet",N,r(i)),o(r(i),"fakeNode",L,r(i)),o(r(i),"Gun",V,r(i)),o(r(i),"GunMuzzle",j,r(i)),o(r(i),"monster_1",W,r(i)),o(r(i),"Objs",X,r(i)),o(r(i),"arrObs1",q,r(i)),o(r(i),"Shoot",J,r(i)),o(r(i),"obsCache",K,r(i)),o(r(i),"Fx",Q,r(i)),o(r(i),"hitFx",$,r(i)),o(r(i),"changeAmmo",tt,r(i)),e(r(i),"rotationY",0),e(r(i),"rotationZ",0),e(r(i),"activeMove",!1),e(r(i),"kickGunTween",null),e(r(i),"cacheBullet",[]),e(r(i),"numBullet",50),e(r(i),"numMonster",50),e(r(i),"cacheMonster",[]),e(r(i),"cacheHitFx",[]),e(r(i),"state",-1),e(r(i),"numHitFx",10),e(r(i),"scheduleMonster",null),e(r(i),"isChangeAmmo",!1),i}n(i,t);var l=i.prototype;return l.onLoad=function(){i.instance=this,this.checkPflatform(),this.initTween(),this.initBullets(),this.initMonster(),this.initHitFx(),this.state=C.READY},l.startGame=function(){this.loadMonster()},l.resetGame=function(){this.rotationY=0,this.rotationZ=0,this.node.setRotationFromEuler(c(this.rotationZ,this.rotationY,0)),this.initMonster(),this.unschedule(this.handleInitMonster),this.isChangeAmmo=!1},l.checkPflatform=function(){f.isMobile?(p.on(b.EventType.TOUCH_MOVE,this.handleMouseMove,this),this.Shoot.active=!0):f.isBrowser&&(p.on(b.EventType.MOUSE_MOVE,this.handleMouseMove,this),p.on(b.EventType.TOUCH_START,this.handleTouchStart,this),this.Shoot.active=!1)},l.handleMouseMove=function(t){this.state===C.PLAYING&&(this.rotationY-=t.getDeltaX()/2,this.rotationZ+=t.getDeltaY()/2,this.rotationZ>30?this.rotationZ=30:this.rotationZ<-30&&(this.rotationZ=-30),this.node.setRotationFromEuler(c(this.rotationZ,this.rotationY,0)))},l.handleTouchStart=function(){if(this.state===C.PLAYING&&!this.isChangeAmmo){this.activeMove=!0,this.kickGunTween.start(),z.instance.playShoot(),this.GunMuzzle.getComponent(y).playParticle(),this.bullets.setPosition(this.fakeNode.getWorldPosition());var t=this.rotationY,e=this.rotationZ,i=this.cacheBullet.shift();i.setRotationFromEuler(c(e,t,0)),i.getComponent(F).resetPositionSphere(),i.active=!0,x.instance.updateBullet()}},l.onDestroy=function(){f.isMobile?p.off(b.EventType.TOUCH_MOVE,this.handleMouseMove,this):f.isBrowser&&(p.off(b.EventType.MOUSE_MOVE,this.handleMouseMove,this),p.off(b.EventType.TOUCH_START,this.handleTouchStart,this))},l.start=function(){},l.initTween=function(){this.kickGunTween=m(this.Gun).to(.03,{position:c(0,0,10),eulerAngles:c(3,0,0)}).to(.03,{position:c(0,0,0),eulerAngles:c(0,0,0)})},l.initBullets=function(){this.cacheBullet=[],this.bullets.removeAllChildren();for(var t=0;t<this.numBullet;t++){var e=d(this.bullet);e.active=!1,this.cacheBullet.push(e),this.bullets.addChild(e)}},l.initMonster=function(){for(var t=0;t<this.arrObs1.length;t++)this.arrObs1[t].removeAllChildren();this.obsCache.removeAllChildren(),this.cacheMonster=[];for(var e=0;e<this.numMonster;e++){var i=d(this.monster_1);i.active=!1,this.cacheMonster.push(i),this.obsCache.addChild(i)}},l.initHitFx=function(){this.cacheHitFx=[],this.Fx.removeAllChildren();for(var t=0;t<this.numHitFx;t++){var e=d(this.hitFx);this.cacheHitFx.push(e),this.Fx.addChild(e)}},l.addObsCache=function(t){t.setPosition(c(0,0,0)),this.cacheMonster.push(t),t.parent=this.obsCache},l.loadMonster=function(){this.schedule(this.handleInitMonster,2)},l.handleInitMonster=function(){var t=this.cacheMonster.shift();if(t){var e=t.getComponent(T),i=v(0,4);t.parent=this.arrObs1[i];v(0,2);var n=v(30,100),o=v(-500,500),r=v(-100,100),l={x:v(-150,0),y:v(-50,50),z:0};e.setRotation(!1,l),e.setSpeed(n),e.setPos(o,r,0),t.active=!0}},l.setPositionHitFx=function(t){var e=this,i=this.cacheHitFx.shift();i&&(i.setWorldPosition(t),i.getComponent(g).playParticle(),m(i).delay(.3).call((function(){e.cacheHitFx.push(i)})).start())},l.playChangeAmmo=function(){this.changeAmmo.play()},i}(M),e(et,"instance",null),D=i((U=it).prototype,"bullets",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(U.prototype,"bullet",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(U.prototype,"fakeNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(U.prototype,"Gun",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(U.prototype,"GunMuzzle",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(U.prototype,"monster_1",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(U.prototype,"Objs",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(U.prototype,"arrObs1",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=i(U.prototype,"Shoot",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(U.prototype,"obsCache",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(U.prototype,"Fx",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(U.prototype,"hitFx",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(U.prototype,"changeAmmo",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=U))||Z));l._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("GameState",void 0),e._RF.push({},"bb3d1prD8lMMrh2CJ6w1TDn","Constants",void 0);var n;t("Constants",{EVENT_CONFIG:{SHOW_MAIN_LOBBY:"show-main-lobby",SELECTED_ITEM_SKIN:"item-skin-selected"},TIME_UPDATE:.05,timeGame:90,totalBullet:90,boxBullet:30,remainBullet:60});!function(t){t[t.LOADING=0]="LOADING",t[t.READY=1]="READY",t[t.PLAYING=2]="PLAYING",t[t.GAMEOVER=3]="GAMEOVER",t[t.RESET=4]="RESET"}(n||(n=t("GameState",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioController.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var t,r,n,e,i,u,l,a,s,c,p;return{setters:[function(o){t=o.defineProperty,r=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){u=o.cclegacy,l=o._decorator,a=o.AudioSource,s=o.AudioClip,c=o.tween,p=o.Component}],execute:function(){var h,d,f,y,S,v,A,b,g;u._RF.push({},"c8acfhPmotAGI+uFND1AncZ","AudioController",void 0);var C=l.ccclass,m=l.property;o("AudioController",(h=C("AudioController"),d=m(a),f=m(s),h((g=b=function(o){function r(){for(var r,n=arguments.length,u=new Array(n),l=0;l<n;l++)u[l]=arguments[l];return r=o.call.apply(o,[this].concat(u))||this,e(i(r),"sound",v,i(r)),e(i(r),"shoot",A,i(r)),t(i(r),"arrSoundShoot",[]),r}n(r,o);var u=r.prototype;return u.start=function(){r.instance=this;for(var o=0;o<5;o++)this.arrSoundShoot.push(this.sound)},u.playShoot=function(){var o=this,t=this.arrSoundShoot.shift();t.play(),c(this.node).delay(.5).call((function(){o.arrSoundShoot.push(t)})).start()},r}(p),t(b,"instance",null),v=r((S=g).prototype,"sound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=r(S.prototype,"shoot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=S))||y));u._RF.pop()}}}));

System.register("chunks:///_virtual/ItemSkinController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./Linker.ts"],(function(t){"use strict";var e,n,i,r,a,o,s,l,c,u,p,k,f,m,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.defineProperty},function(t){o=t.cclegacy,s=t._decorator,l=t.Label,c=t.Sprite,u=t.SpriteAtlas,p=t.Node,k=t.Event,f=t.Component},function(t){m=t.Constants},function(t){v=t.Linker}],execute:function(){var h,b,y,S,d,g,C,I,A,D,E;o._RF.push({},"dee22dXp3tJm4Cp5LzbsHxo","ItemSkinController",void 0);var _=s.ccclass,z=s.property;t("ItemSkinController",(h=_("ItemSkinController"),b=z(l),y=z(c),S=z(u),d=z(p),h((I=e((C=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(r(e),"skinName",I,r(e)),i(r(e),"skinAvatar",A,r(e)),i(r(e),"skinAtlas",D,r(e)),i(r(e),"active",E,r(e)),a(r(e),"skinData",null),e}n(e,t);var o=e.prototype;return o.start=function(){},o.renderDataSkin=function(t){this.skinData=t;var e=this.skinAtlas.getSpriteFrame(t.sprite);v.getInstance().itemSkinSelected.key==t.key?this.active.active=!0:this.active.active=!1,this.skinName.string=t.name,e&&(this.skinAvatar.spriteFrame=e)},o.itemOnclick=function(){v.getInstance().itemSkinSelected=this.skinData,this.node.dispatchEvent(new k(m.EVENT_CONFIG.SELECTED_ITEM_SKIN,!0))},e}(f)).prototype,"skinName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(C.prototype,"skinAvatar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"skinAtlas",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(C.prototype,"active",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=C))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/SceneManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,a,o,i,c,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,c=e.Prefab,l=e.Component}],execute:function(){var s,u,p,f,d;o._RF.push({},"e04de65dQJIzpHpPgnBk5tQ","SceneManager",void 0);var g=i.ccclass,h=i.property;e("SceneManager",(s=g("SceneManager"),u=h(c),s((d=r((f=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o))||this,n(a(r),"HomePrefab",d,a(r)),r}t(r,e);var o=r.prototype;return o.start=function(){this.loadHome()},o.loadHome=function(){var e=this.node.parent.getChildByName("HomeScreen");e&&(e.active=!0)},r}(l)).prototype,"HomePrefab",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"e6571k/U9pHy5BAg4yP/KPp","Utils",void 0);t("Utils",{trimUsername:function(t,n){return void 0===t?"":(void 0===n&&(n=12),t.length>n&&(t=t.slice(0,n)),t)},trimString:function(t,n){var r=t;return t.length>=20&&(r=t.slice(0,n)+"..."),r},randomIntFromInterval:function(t,n){return Math.floor(Math.random()*(n-t+1)+t)},randomDeciamlFromInterval:function(t,n){return Math.round(10*(Math.random()*(n-t)+t))/10}});n._RF.pop()}}}));

System.register("chunks:///_virtual/GhostController.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,r,n,i,l,s,a,h,c,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.defineProperty},function(e){l=e.cclegacy,s=e._decorator,a=e.Node,h=e.Vec3,c=e.Collider,p=e.RigidBodyComponent,u=e.Component}],execute:function(){var d,C,f,y,g;l._RF.push({},"eb983DtvOBFKLqW67KAJrVV","GhostController",void 0);var v=s.ccclass,B=s.property;e("GhostController",(d=v("GhostController"),C=B(a),d((g=t((y=function(e){function t(){for(var t,o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,r(n(t),"heathBar",g,n(t)),i(n(t),"heath",5),t}o(t,e);var l=t.prototype;return l.start=function(){this.heathBar.scale=new h(this.heath,.5,.5),this.getComponent(c).on("onCollisionStay",this.onCollision,this)},l.onCollision=function(e){console.error("ỰA");var t=e.otherCollider.node.getComponent(p);console.error(t.group),2==t.group&&(e.otherCollider.node.destroy(),this.heath--,this.heathBar.scale=new h(this.heath,.5,.5),0==this.heath&&e.selfCollider.node.destroy())},l.update=function(e){},t}(u)).prototype,"heathBar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/BulletController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./GameController.ts"],(function(e){"use strict";var o,t,n,i,r,l,s,h,u,c,a,p;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.defineProperty},function(e){l=e.cclegacy,s=e._decorator,h=e.Node,u=e.Collider,c=e.MeshRenderer,a=e.Component},function(e){p=e.GameController}],execute:function(){var f,C,g,d,B;l._RF.push({},"fff4dHXhlhBZ4OIbsDUzOSo","BulletController",void 0);var y=s.ccclass,v=s.property;e("BulletController",(f=y("BulletController"),C=v(h),f((B=o((d=function(e){function o(){for(var o,t=arguments.length,l=new Array(t),s=0;s<t;s++)l[s]=arguments[s];return o=e.call.apply(e,[this].concat(l))||this,n(i(o),"sphere",B,i(o)),r(i(o),"speed",1e3),r(i(o),"z",0),o}t(o,e);var l=o.prototype;return l.onLoad=function(){},l.start=function(){console.log("1");var e=this.sphere.getComponent(u);e.on("onCollisionEnter",this.onCollision,this),e.on("onTriggerEnter",this.onTrigger,this)},l.onCollision=function(e){console.log("onCollision BulletController "),this.pushBullToCache()},l.onTrigger=function(){console.log("onTrigger BulletController")},l.pushBullToCache=function(){console.log("pushBullToCache"),p.instance.cacheBullet.push(this.node),this.node.active=!1,this.z=0,this.node.setRotationFromEuler(0,0,0),this.node.setPosition(0,0,0),this.sphere.setPosition(0,0,0)},l.resetPositionSphere=function(){this.sphere.setPosition(0,0,0)},l.changeColorBullet=function(e){this.sphere.getComponent(c).getMaterial(0).setProperty("mainColor",e)},l.update=function(e){this.node.active&&(this.z-=e*this.speed,this.sphere.setPosition(0,0,this.z),this.z<-1200&&this.pushBullToCache())},o}(a)).prototype,"sphere",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=d))||g));l._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Constants.ts","./Gun_Muzzle.ts","./HitFx.ts","./AudioController.ts","./BulletController.ts","./UserData.ts","./MonsterController.ts","./GameController.ts","./UIController.ts","./EndGameController.ts","./Linker.ts","./ScenesManager.ts","./HomeController.ts","./SettingController.ts","./GunSkinController.ts","./GunController.ts","./ItemSkinController.ts","./SceneManager.ts","./Utils.ts","./GhostController.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});